# 🚀 海洋调查现场质量监督管理系统 - 数据库一键部署指南

## 📋 快速开始

本项目提供了一键部署的数据库脚本，无需手动创建表和插入数据。

### 🎯 一键部署（推荐）

#### 方法一：MySQL命令行执行
```bash
# 1. 启动MySQL命令行客户端
mysql -u root -p

# 2. 执行数据库创建脚本
source mysql_complete_structure.sql

# 3. 查看创建结果
SHOW DATABASES;
USE marine_survey_db;
SHOW TABLES;
```

#### 方法二：命令行管道执行
```bash
# Windows
mysql -u root -p < mysql_complete_structure.sql

# Linux/Mac
mysql -u root -p marine_survey_db < mysql_complete_structure.sql
```

#### 方法三：MySQL Workbench图形界面
1. 打开MySQL Workbench
2. File → Open SQL Script
3. 选择 `mysql_complete_structure.sql` 文件
4. 点击执行按钮（闪电图标）

## ✅ 执行结果验证

执行完成后，你应该看到以下结果：

```
mysql> source mysql_complete_structure.sql

Query OK, 0 rows affected (0.00 sec)

... (执行过程中会显示各个表的创建进度)

mysql> SHOW DATABASES;
+--------------------+
| Database           |
+--------------------+
| information_schema |
| marine_survey_db   |  ← 新创建的数据库
| mysql              |
| performance_schema |
| sys                |
+--------------------+

mysql> USE marine_survey_db;
Database changed

mysql> SHOW TABLES;
+-----------------------------+
| Tables_in_marine_survey_db  |
+-----------------------------+
| tb_base_hq_device          |
| tb_base_hq_investigator     |
| tb_base_hz_device          |
| tb_base_hz_investigator     |
| tb_base_master             |
| tb_equipment               |  ← 新增的设备管理表
| tb_investigation_projects  |  ← 新增的调查项目表
| tb_personnel_qualifications|  ← 新增的人员资质表
| tb_task_hqzljdjcjlb        |
| tb_task_info               |
| tb_task_sczljdjcb          |
| tb_task_zlpgb              |
| tb_user                    |
+-----------------------------+

mysql> SELECT COUNT(*) FROM tb_user;
+----------+
| COUNT(*) |
+----------+
| 6        |  ← 6个测试用户
+----------+
```

## 📊 数据库概览

### 🗂️ 表结构总览（13个表）

| 表名 | 说明 | 记录数示例 |
|------|------|-----------|
| `tb_user` | 用户表 | 6个测试用户 |
| `tb_task_info` | 任务信息表 | 3个海洋调查任务 |
| `tb_task_hqzljdjcjlb` | 航前质量检查表 | 2个检查记录 |
| `tb_base_master` | 基础人员信息 | 4个专家信息 |
| `tb_base_hq_investigator` | 航前调查人员 | 2个调查员 |
| `tb_base_hq_device` | 航前设备 | 2台仪器设备 |
| `tb_base_hz_investigator` | 航中调查人员 | 1个调查员 |
| `tb_base_hz_device` | 航中设备 | 1台仪器设备 |
| `tb_personnel_qualifications` | 人员资质表 | 3个资质记录 |
| `tb_equipment` | 设备管理表 | 3台仪器设备 |
| `tb_investigation_projects` | 调查项目表 | 2个比测记录 |
| `tb_task_sczljdjcb` | 生产质量检查表 | 空表结构 |
| `tb_task_zlpgb` | 质量评估表 | 空表结构 |

### 👥 测试账号

| 用户名 | 密码 | 角色 | 说明 |
|--------|------|------|------|
| admin | 123456 | 超级管理员 | 系统管理员 |
| test | 123456 | 普通用户 | 测试账号 |
| 123 | 123456 | 普通用户 | 测试账号 |

## 🔧 故障排除

### 中文乱码问题
如果出现中文乱码，请确保：
1. MySQL服务器字符集设置为`utf8mb4`
2. 客户端连接使用`--default-character-set=utf8mb4`参数

### 权限不足
如果出现权限错误，请确保：
1. 使用具有足够权限的用户（建议使用root用户）
2. 或者为你的用户授予相应权限：
```sql
GRANT ALL PRIVILEGES ON *.* TO 'your_username'@'localhost';
FLUSH PRIVILEGES;
```

### 文件路径问题（Windows）
在Windows命令行中，如果路径包含空格：
```bash
mysql -u root -p < "mysql_complete_structure.sql"
```

## 📞 技术支持

如果遇到任何问题，请：
1. 检查MySQL错误日志
2. 确认字符集设置
3. 验证用户权限
4. 查看数据库版本兼容性

---

🎉 **恭喜！你的海洋调查现场质量监督管理系统数据库已经成功部署完成！**


