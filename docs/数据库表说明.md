# ä»»åŠ¡ç®¡ç†ç³»ç»Ÿ - æ•°æ®åº“è¡¨è¯´æ˜

## ğŸ“Š ä½¿ç”¨çš„æ•°æ®åº“

**æ•°æ®åº“åç§°ï¼š** `marine_survey_db`ï¼ˆæµ·æ´‹è°ƒæŸ¥æ•°æ®åº“ï¼‰

**æ•°æ®åº“ç±»å‹ï¼š** MySQL

**è¿æ¥ä¿¡æ¯ï¼š**
- ä¸»æœºï¼šlocalhost
- ç«¯å£ï¼š3306
- ç”¨æˆ·åï¼šroot
- å¯†ç ï¼šWASDijkl15963

---

## ğŸ“‹ æ•°æ®åº“è¡¨åˆ—è¡¨

### 1. tb_task_infoï¼ˆä»»åŠ¡ä¿¡æ¯è¡¨ï¼‰âœ… **å½“å‰ä½¿ç”¨**

**ç”¨é€”ï¼š** å­˜å‚¨èˆªæ¬¡ä»»åŠ¡çš„åŸºæœ¬ä¿¡æ¯

**ä¸»é”®ï¼š** `task_name`ï¼ˆèˆªæ¬¡ä»»åŠ¡åç§°ï¼‰

**è¡¨ç»“æ„ï¼š**

| å­—æ®µå | æ•°æ®ç±»å‹ | é•¿åº¦ | æ˜¯å¦å¿…å¡« | è¯´æ˜ | ç¤ºä¾‹ |
|--------|---------|------|---------|------|------|
| task_name | VARCHAR | 100 | âœ… | èˆªæ¬¡ä»»åŠ¡åç§°ï¼ˆä¸»é”®ï¼‰ | ä¸œæµ·æµ·æ´‹è°ƒæŸ¥ |
| project | VARCHAR | 100 | âŒ | ä¸“é¡¹åç§° | æµ·æ´‹èµ„æºè°ƒæŸ¥ä¸“é¡¹ |
| task_code | VARCHAR | 100 | âŒ | èˆªæ¬¡ä»»åŠ¡ç¼–å· | HY2025001 |
| undertake | VARCHAR | 100 | âŒ | èˆªæ¬¡æ‰¿æ‹…å•ä½ | å›½å®¶æµ·æ´‹æ ‡å‡†è®¡é‡ä¸­å¿ƒ |
| participant | VARCHAR | 200 | âŒ | èˆªæ¬¡å‚ä¸å•ä½ | ä¸­å›½æµ·æ´‹å¤§å­¦ |
| ship | VARCHAR | 45 | âŒ | è°ƒæŸ¥èˆ¹ | å‘é˜³çº¢01 |
| leader | VARCHAR | 45 | âŒ | ä»»åŠ¡è´Ÿè´£äºº | å¼ ä¸»ä»» |
| chief_scientist | VARCHAR | 45 | âŒ | é¦–å¸­ç§‘å­¦å®¶ | ææ•™æˆ |
| superintendent | VARCHAR | 100 | âŒ | éšèˆ¹ç›‘ç£å‘˜ | ç‹ç›‘ç£ |
| superintended | VARCHAR | 45 | âŒ | éšèˆ¹ç›‘ç£ | - |
| executiontime | TEXT | - | âŒ | æ‰§è¡Œæ—¶é—´ | 2025-01-15 è‡³ 2025-02-20 |
| subject | VARCHAR | 45 | âŒ | ä»»åŠ¡å­¦ç§‘ | æµ·æ´‹åœ°è´¨ |

**åˆ›å»ºè¯­å¥ï¼š**
```sql
CREATE TABLE tb_task_info (
    task_name VARCHAR(100) NOT NULL PRIMARY KEY COMMENT 'èˆªæ¬¡ä»»åŠ¡åç§°',
    project VARCHAR(100) COMMENT 'ä¸“é¡¹åç§°',
    task_code VARCHAR(100) COMMENT 'èˆªæ¬¡ä»»åŠ¡ç¼–å·',
    undertake VARCHAR(100) COMMENT 'èˆªæ¬¡æ‰¿æ‹…å•ä½',
    participant VARCHAR(200) COMMENT 'èˆªæ¬¡å‚ä¸å•ä½',
    ship VARCHAR(45) COMMENT 'è°ƒæŸ¥èˆ¹',
    leader VARCHAR(45) COMMENT 'ä»»åŠ¡è´Ÿè´£äºº',
    chief_scientist VARCHAR(45) COMMENT 'é¦–å¸­ç§‘å­¦å®¶',
    superintendent VARCHAR(100) COMMENT 'éšèˆ¹ç›‘ç£å‘˜',
    superintended VARCHAR(45) COMMENT 'éšèˆ¹ç›‘ç£',
    executiontime TEXT COMMENT 'æ‰§è¡Œæ—¶é—´',
    subject VARCHAR(45) COMMENT 'ä»»åŠ¡å­¦ç§‘'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='ä»»åŠ¡ä¿¡æ¯è¡¨';
```

**ç¤ºä¾‹æ•°æ®ï¼š**
```sql
INSERT INTO tb_task_info VALUES
('ä¸œæµ·æµ·æ´‹è°ƒæŸ¥', 'æµ·æ´‹èµ„æºè°ƒæŸ¥ä¸“é¡¹', 'HY2025001', 'å›½å®¶æµ·æ´‹æ ‡å‡†è®¡é‡ä¸­å¿ƒ', '', 'å‘é˜³çº¢01', 'å¼ ä¸»ä»»', '', '', '', '2025-01-15 è‡³ 2025-02-20', 'æµ·æ´‹åœ°è´¨'),
('å—æµ·æ·±æµ·æ¢æµ‹', 'æ·±æµ·ç§‘è€ƒä¸“é¡¹', 'HY2025002', 'ä¸­å›½æµ·æ´‹å¤§å­¦', '', 'ç§‘å­¦å·', 'ææ•™æˆ', '', '', '', '2025-03-01 è‡³ 2025-04-15', 'æµ·æ´‹ç”Ÿç‰©'),
('æ¸¤æµ·ç¯å¢ƒç›‘æµ‹', 'æµ·æ´‹ç¯å¢ƒä¿æŠ¤ä¸“é¡¹', 'HY2025003', 'æµ·æ´‹ç¯å¢ƒç›‘æµ‹ä¸­å¿ƒ', '', 'æµ·å·¡01', 'ç‹å·¥ç¨‹å¸ˆ', '', '', '', '2025-05-10 è‡³ 2025-06-20', 'æµ·æ´‹åŒ–å­¦');
```

---

### 2. tb_userï¼ˆç”¨æˆ·è¡¨ï¼‰

**ç”¨é€”ï¼š** å­˜å‚¨ç³»ç»Ÿç”¨æˆ·ä¿¡æ¯ï¼Œç”¨äºç™»å½•è®¤è¯

**ä¸»é”®ï¼š** `name`ï¼ˆç”¨æˆ·åï¼‰

**è¡¨ç»“æ„ï¼š**

| å­—æ®µå | æ•°æ®ç±»å‹ | é•¿åº¦ | æ˜¯å¦å¿…å¡« | è¯´æ˜ |
|--------|---------|------|---------|------|
| name | VARCHAR | 45 | âœ… | ç”¨æˆ·åï¼ˆä¸»é”®ï¼‰ |
| login_name | VARCHAR | 45 | âŒ | ç™»å½•å |
| password | VARCHAR | 45 | âŒ | å¯†ç  |
| sex | VARCHAR | 45 | âŒ | æ€§åˆ« |
| role | VARCHAR | 45 | âŒ | è§’è‰² |
| desc | VARCHAR | 45 | âŒ | æè¿° |
| permission | VARCHAR | 45 | âŒ | æƒé™ |
| department | VARCHAR | 255 | âŒ | éƒ¨é—¨ |

---

### 3. tb_base_masterï¼ˆåŸºç¡€äººå‘˜è¡¨ï¼‰

**ç”¨é€”ï¼š** å­˜å‚¨åŸºç¡€äººå‘˜ä¿¡æ¯

**ä¸»é”®ï¼š** `id_card_number`ï¼ˆèº«ä»½è¯å·ï¼‰

**ä¸»è¦å­—æ®µï¼š**
- id_card_number - èº«ä»½è¯å·
- name - å§“å
- gender - æ€§åˆ«
- birthday - å‡ºç”Ÿæ—¥æœŸ
- education - å­¦å†
- major - ä¸“ä¸š
- position - èŒåŠ¡
- unit - å•ä½

---

### 4. tb_base_hq_investigatorï¼ˆèˆªå‰è´¨æ£€è°ƒæŸ¥å‘˜è¡¨ï¼‰

**ç”¨é€”ï¼š** èˆªå‰è´¨é‡æ£€æŸ¥è°ƒæŸ¥å‘˜ä¿¡æ¯

---

### 5. tb_base_hq_deviceï¼ˆèˆªå‰è´¨æ£€è®¾å¤‡è¡¨ï¼‰

**ç”¨é€”ï¼š** èˆªå‰è´¨é‡æ£€æŸ¥è®¾å¤‡ä¿¡æ¯

---

### 6. tb_task_hqzljdjcjlbï¼ˆèˆªå‰è´¨é‡ç›‘ç£æ£€æŸ¥è®°å½•è¡¨ï¼‰

**ç”¨é€”ï¼š** èˆªå‰è´¨é‡ç›‘ç£æ£€æŸ¥è®°å½•

---

### 7. tb_base_hz_investigatorï¼ˆèˆªä¸­è°ƒæŸ¥å‘˜è¡¨ï¼‰

**ç”¨é€”ï¼š** èˆªä¸­è°ƒæŸ¥å‘˜ä¿¡æ¯

---

### 8. tb_base_hz_deviceï¼ˆèˆªä¸­è®¾å¤‡è¡¨ï¼‰

**ç”¨é€”ï¼š** èˆªä¸­è®¾å¤‡ä¿¡æ¯

---

### 9. tb_task_sczljdjcbï¼ˆç°åœºè´¨é‡ç›‘ç£æ£€æŸ¥è¡¨ï¼‰

**ç”¨é€”ï¼š** ç°åœºè´¨é‡ç›‘ç£æ£€æŸ¥è®°å½•

---

### 10. tb_task_zlpgbï¼ˆè´¨é‡è¯„ä¼°è¡¨ï¼‰

**ç”¨é€”ï¼š** è´¨é‡è¯„ä¼°ä¿¡æ¯

---

## ğŸ”— è¡¨å…³ç³»è¯´æ˜

### å½“å‰ä»»åŠ¡ç®¡ç†ç³»ç»Ÿä½¿ç”¨çš„è¡¨å…³ç³»

```
tb_task_infoï¼ˆä»»åŠ¡ä¿¡æ¯è¡¨ï¼‰
    â†“
    ä¸»é”®ï¼štask_name
    â†“
    å…³è”åˆ°å…¶ä»–è¡¨ï¼ˆé€šè¿‡ task_nameï¼‰
```

**å…³è”å…³ç³»ï¼š**
1. `tb_task_info` æ˜¯æ ¸å¿ƒè¡¨ï¼Œå­˜å‚¨ä»»åŠ¡åŸºæœ¬ä¿¡æ¯
2. å…¶ä»–è¡¨é€šè¿‡ `task_name` å­—æ®µä¸ä»»åŠ¡è¡¨å…³è”
3. ç”¨æˆ·è¡¨ `tb_user` ç‹¬ç«‹å­˜å‚¨ï¼Œç”¨äºç™»å½•è®¤è¯

---

## ğŸ“ å½“å‰ç³»ç»Ÿä½¿ç”¨æƒ…å†µ

### ä»»åŠ¡ç®¡ç†æ¨¡å—

**ä½¿ç”¨çš„è¡¨ï¼š** `tb_task_info`

**åç«¯æœåŠ¡ï¼š** 
- ç«¯å£ï¼š5001
- æ–‡ä»¶ï¼š`backend/app_task.py`

**å‰ç«¯é¡µé¢ï¼š**
- è·¯å¾„ï¼š`/system-user`
- ç»„ä»¶ï¼š`src/views/VoyageInfo/task-manage.vue`

**API æ¥å£ï¼š**
- GET `/api/tasks` - è·å–ä»»åŠ¡åˆ—è¡¨ï¼ˆæ”¯æŒæœç´¢ï¼‰
- POST `/api/tasks` - åˆ›å»ºæ–°ä»»åŠ¡
- PUT `/api/tasks/:task_name` - æ›´æ–°ä»»åŠ¡
- DELETE `/api/tasks/:task_name` - åˆ é™¤ä»»åŠ¡

### ç”¨æˆ·ç®¡ç†æ¨¡å—

**ä½¿ç”¨çš„è¡¨ï¼š** `tb_user`

**åç«¯æœåŠ¡ï¼š**
- ç«¯å£ï¼š5000
- æ–‡ä»¶ï¼š`backend/app.py`

**API æ¥å£ï¼š**
- POST `/api/login` - ç”¨æˆ·ç™»å½•
- POST `/api/register` - ç”¨æˆ·æ³¨å†Œ
- GET `/api/users` - è·å–ç”¨æˆ·åˆ—è¡¨
- POST `/api/users` - åˆ›å»ºç”¨æˆ·
- PUT `/api/users/:name` - æ›´æ–°ç”¨æˆ·
- DELETE `/api/users/:name` - åˆ é™¤ç”¨æˆ·

---

## ğŸ” æŸ¥è¯¢å½“å‰æ•°æ®

### æŸ¥çœ‹ä»»åŠ¡æ•°æ®
```sql
-- æŸ¥çœ‹æ‰€æœ‰ä»»åŠ¡
SELECT * FROM tb_task_info;

-- æŸ¥çœ‹ä»»åŠ¡æ•°é‡
SELECT COUNT(*) FROM tb_task_info;

-- æŒ‰åç§°æœç´¢ä»»åŠ¡
SELECT * FROM tb_task_info WHERE task_name LIKE '%ä¸œæµ·%';
```

### æŸ¥çœ‹ç”¨æˆ·æ•°æ®
```sql
-- æŸ¥çœ‹æ‰€æœ‰ç”¨æˆ·
SELECT * FROM tb_user;

-- æŸ¥çœ‹ç”¨æˆ·æ•°é‡
SELECT COUNT(*) FROM tb_user;

-- æŒ‰ç”¨æˆ·åæœç´¢
SELECT * FROM tb_user WHERE name LIKE '%admin%';
```

---

## ğŸ“ æ•°æ®å­—å…¸

### ä»»åŠ¡å­¦ç§‘ï¼ˆsubjectï¼‰å¸¸ç”¨å€¼
- æµ·æ´‹åœ°è´¨
- æµ·æ´‹ç”Ÿç‰©
- æµ·æ´‹åŒ–å­¦
- æµ·æ´‹ç‰©ç†
- æµ·æ´‹ç¯å¢ƒ

### è°ƒæŸ¥èˆ¹ï¼ˆshipï¼‰ç¤ºä¾‹
- å‘é˜³çº¢01
- ç§‘å­¦å·
- æµ·å·¡01
- å¤§æ´‹ä¸€å·
- è›Ÿé¾™å·

### å•ä½ï¼ˆundertakeï¼‰ç¤ºä¾‹
- å›½å®¶æµ·æ´‹æ ‡å‡†è®¡é‡ä¸­å¿ƒ
- ä¸­å›½æµ·æ´‹å¤§å­¦
- æµ·æ´‹ç¯å¢ƒç›‘æµ‹ä¸­å¿ƒ
- å›½å®¶æµ·æ´‹å±€

---

## ğŸ› ï¸ æ•°æ®åº“æ“ä½œ

### è¿æ¥æ•°æ®åº“
```bash
mysql -h localhost -u root -p
# è¾“å…¥å¯†ç ï¼šWASDijkl15963

USE marine_survey_db;
```

### å¤‡ä»½æ•°æ®
```bash
mysqldump -u root -p marine_survey_db > backup.sql
```

### æ¢å¤æ•°æ®
```bash
mysql -u root -p marine_survey_db < backup.sql
```

---

## âœ… æ€»ç»“

**å½“å‰ä»»åŠ¡ç®¡ç†é¡µé¢ä½¿ç”¨ï¼š**
- ğŸ“Š **æ•°æ®åº“**ï¼š`marine_survey_db`
- ğŸ“‹ **è¡¨å**ï¼š`tb_task_info`
- ğŸ”‘ **ä¸»é”®**ï¼š`task_name`ï¼ˆèˆªæ¬¡ä»»åŠ¡åç§°ï¼‰
- ğŸ“ **å­—æ®µæ•°**ï¼š12 ä¸ª
- ğŸ“¦ **æ•°æ®æ¡æ•°**ï¼š5 æ¡ï¼ˆåˆå§‹æ•°æ®ï¼‰

**ç¾åŒ–æ”¹è¿›ï¼š**
1. âœ… è¡¨æ ¼åˆ—å®½åº¦ä¼˜åŒ–
2. âœ… æ“ä½œåˆ—å›ºå®šåœ¨å³ä¾§
3. âœ… æ‰€æœ‰è¾“å…¥æ¡†æ·»åŠ å ä½ç¬¦æç¤º
4. âœ… è¡¨å•å¸ƒå±€æ›´ç¾è§‚
5. âœ… æœç´¢æ¡†æ·»åŠ æç¤ºæ–‡å­—
